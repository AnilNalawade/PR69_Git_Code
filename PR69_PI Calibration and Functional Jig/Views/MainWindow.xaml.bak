<Window x:Class="PR69_PI_Calibration_and_Functional_Jig.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:PR69_PI_Calibration_and_Functional_Jig.ViewModel"
        mc:Ignorable="d"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="14"
        TextElement.FontFamily="{materialDesign:MaterialDesignFont}"
        Title="MainWindow" Height="720" Width="1366" WindowStartupLocation="CenterScreen" WindowStyle="None"
                 WindowState="Normal" ResizeMode="NoResize">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>
    <Window.DataContext>
        <vm:MainWindowVM x:Name="MainVM"/>
    </Window.DataContext>
    <Grid>
        <materialDesign:DialogHost DataContext="{x:Reference MainVM}"
                                   IsOpen="{Binding IsDialogOpen, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
            <materialDesign:DialogHost.DialogContent>
                <StackPanel Orientation="Vertical">
                    <StackPanel Name="MainContainer" HorizontalAlignment="Center" MinHeight="150" VerticalAlignment="Center" MinWidth="350">
                        <StackPanel HorizontalAlignment="Center"  VerticalAlignment="Center"
                            Margin="20 20 20 0"
                            Width="300" Height="auto"
                            Visibility="{Binding Path = MesssageVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}" >
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition MinHeight="50"/>
                                </Grid.RowDefinitions>
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="0" Grid.Row="0">
                                    <materialDesign:PackIcon Kind="AndroidMessages" Width="30" Height="30" Foreground="{DynamicResource PrimaryHueMidBrush}"
                                                     Visibility="{Binding Path=IconMsgVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                                    <materialDesign:PackIcon Kind="Error" Width="30" Height="30" Foreground="IndianRed"
                                                     Visibility="{Binding Path=IconErrorVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                                    <materialDesign:PackIcon Kind="QuestionMarkCircle" Width="30" Height="30" Foreground="IndianRed"
                                                     Visibility="{Binding Path=IconQuestionVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                                </StackPanel>
                                <TextBlock Grid.Column="1" Grid.Row="0"
                                   Margin="20"
                                   VerticalAlignment="Center"
                                   Text="{Binding Path=Msg, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                   Foreground="Red"
                                   TextWrapping="Wrap"/>
                            </Grid>
                        </StackPanel>
                        
                        <Grid HorizontalAlignment="Center" Width="300" 
                          Visibility="{Binding Path = ComSelectionVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}" 
                          VerticalAlignment="Center" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <StackPanel Orientation="Horizontal" Margin="0 10 0 0" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"  HorizontalAlignment="Center" VerticalAlignment="Center">
                                <materialDesign:PackIcon Kind="TransitConnectionVariant" Width="15" Height="15" Padding="0" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0 0 20 0" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                                <TextBlock Text="Communication Settings" VerticalAlignment="Center" Padding="0" Margin="0" FontSize="15" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                            </StackPanel>
                            <StackPanel Margin="10 0" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1"
                                    Orientation="Horizontal" HorizontalAlignment="Center">
                                <ComboBox materialDesign:HintAssist.Hint="COM PORT"
                                materialDesign:TextFieldAssist.HasClearButton="False"
                                IsEditable="False"
                                Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                Margin="10"
                                SelectedItem ="{Binding Path = SelectedComPort, Mode = TwoWay, UpdateSourceTrigger = PropertyChanged}"
                                ItemsSource="{Binding Path = PortList,Mode = TwoWay,UpdateSourceTrigger = PropertyChanged}">

                                </ComboBox>
                                <Label Content="Please select COM Port" Foreground="Red" FontSize="9" 
                                 Margin="10 0 0 0"
                                 Visibility="{Binding Path=ComPortError, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>

                                <ComboBox materialDesign:HintAssist.Hint="Baud Rate"
                                materialDesign:TextFieldAssist.HasClearButton="False"
                                IsEditable="False"
                                Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                Margin="10"
                                Text="{Binding Path = SelectedBaudRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    <ComboBoxItem>19200</ComboBoxItem>
                                    <ComboBoxItem>115200</ComboBoxItem>
                                </ComboBox>
                                <Label Content="Please select Baud Rate" Foreground="Red" FontSize="9" 
                                Margin="10 0 0 0"
                                Visibility="{Binding Path = BaudRateError, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                            </StackPanel>
                        </Grid>

                        <StackPanel HorizontalAlignment="Center"  VerticalAlignment="Center"
                            Margin="20 20 20 0"
                            Width="300"
                            Visibility="{Binding Path = MesssageVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}" >
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition MinHeight="50"/>
                                </Grid.RowDefinitions>
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="0" Grid.Row="0">
                                    <materialDesign:PackIcon Kind="AndroidMessages" Width="30" Height="30" Foreground="{DynamicResource PrimaryHueMidBrush}"
                                                     Visibility="{Binding Path=IconMsgVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                                    <materialDesign:PackIcon Kind="Error" Width="30" Height="30" Foreground="IndianRed"
                                                     Visibility="{Binding Path=IconErrorVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                                    <materialDesign:PackIcon Kind="QuestionMarkCircle" Width="30" Height="30" Foreground="IndianRed"
                                                     Visibility="{Binding Path=IconQuestionVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                                </StackPanel>
                                <TextBlock Grid.Column="1" Grid.Row="0"
                                   Margin="20"
                                   VerticalAlignment="Center"
                                   Text="{Binding Path=Msg, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                   Foreground="Red"
                                   TextWrapping="Wrap"/>
                            </Grid>
                        </StackPanel>

                        <Grid HorizontalAlignment="Center" Width="500" Height="150" Margin="10 10"
                          Visibility="{Binding Path = ProductSelectionVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"
                          VerticalAlignment="Center" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="45"/>
                                <RowDefinition Height="45"/>
                                <RowDefinition Height="45"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <StackPanel Orientation="Horizontal" Margin="10 2 0 0" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"  HorizontalAlignment="Center" VerticalAlignment="Center">
                                <materialDesign:PackIcon Kind="Assignment" Width="15" Height="15" Padding="0" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0 0 12 0" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                                <TextBlock Text="Device Configuration" VerticalAlignment="Center" Padding="0" Margin="0" FontSize="15" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                            </StackPanel>
                            <StackPanel Margin="2 2" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" HorizontalAlignment="Center" Orientation="Horizontal">
                                <RadioButton Width="auto" Height="Auto" Padding="0" Margin="0 10 0 0"
                                                    VerticalAlignment="Center"  HorizontalAlignment="Left"
                                                    IsChecked="{Binding Path=Is48TypeCatId,   Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"                                   
                                                    Content="48*48 Cat Id">                               
                                </RadioButton>
                                <RadioButton Width="auto" Height="Auto" Padding="0" Margin="20 10 0 0"
                                                    VerticalAlignment="Center"  HorizontalAlignment="Left"
                                                    IsChecked="{Binding Path=Is96TypeCatId,   Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"                                   
                                                    Content="96*96 Cat Id">
                                </RadioButton>
                                <RadioButton Width="auto" Height="Auto" Padding="0" Margin="20 10 0 0"
                                                    VerticalAlignment="Center"  HorizontalAlignment="Left"
                                                    IsChecked="{Binding Path=IsProcessIndTypeCatId,   Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"                                   
                                                    Content="Process Indicator">
                                </RadioButton>
                            </StackPanel>
                            <StackPanel Orientation="Vertical" Margin="2 2"
                                        Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="2">
                                <StackPanel Orientation="Horizontal" 
                                        HorizontalAlignment="Center">
                                    <ComboBox materialDesign:HintAssist.Hint="Device Category"
                                    materialDesign:TextFieldAssist.HasClearButton = "False"
                                    IsEditable="False"
                                    Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                    SelectedIndex="0"
                                    SelectedItem="{Binding Path=SelectedDeviceType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding Path=DeviceTypeList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    </ComboBox>
                                    <Label Content="Please select Device type" Foreground="Red" FontSize="9" 
                                    Margin="5 0 0 0"
                                    Visibility="{Binding Path=DeviceTypeError, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>

                                    <ComboBox materialDesign:HintAssist.Hint="Catalog Id" Margin="20 0 0 0" SelectedIndex="0" 
                                    materialDesign:TextFieldAssist.HasClearButton="False"
                                    IsEditable="False"
                                    Style="{StaticResource MaterialDesignFloatingHintComboBox}"                                
                                    SelectedItem="{Binding Path = SelectedDeviceName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding Path = DeviceNameList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    </ComboBox>
                                    <Label Content="Please select Device type" Foreground="Red" FontSize="9" 
                                    Margin="5 0 0 0"
                                    Visibility="{Binding Path = DeviceNameError, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"/>
                                </StackPanel>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Height="auto" Margin="10 0 2 2" Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2"
                                    HorizontalAlignment="Center" VerticalAlignment="Center">
                                <TextBlock Margin="0 10 -5 10" Padding="5" Text="NUMBER OF DUT'S : ">
                                    <TextBlock.FontSize>12</TextBlock.FontSize>
                                </TextBlock>

                                <TextBox Width="30" Height="40" Margin="10 -10 10 8"
                                        materialDesign:HintAssist.Hint="" 
                                        Text="{Binding Path=NumberOfDUTs, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                                        IsEnabled="{Binding IsProductSelected,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" VerticalAlignment="Center" HorizontalAlignment="Center">
                                </TextBox>
                            </StackPanel>
                        </Grid>

                        <StackPanel Orientation="Horizontal" Margin="10 10 0 0" Height="auto"
                                    HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Button Content="OK" Foreground="WhiteSmoke" 
                            Visibility="{Binding Path=OkbtnVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"
                            Command="{Binding Path=btnOkCmd}" CommandParameter="Ok"  Width="80" HorizontalAlignment="Center" Margin="10 20"/>
                            <Button Content="Yes" Foreground="WhiteSmoke" 
                            Visibility="{Binding Path=YesNoBtnVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"
                            Command="{Binding Path=btnOkCmd}" CommandParameter="Yes" Width="80" HorizontalAlignment="Center" Margin="10 20"/>
                            <Button Content="Cancel" Foreground="WhiteSmoke" Background="IndianRed" BorderBrush="IndianRed"
                            Visibility="{Binding Path=CancelBtnVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}"
                            Command="{Binding Path=btnOkCmd}" CommandParameter="Cancel" Width="80" HorizontalAlignment="Center" Margin="10 20"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </materialDesign:DialogHost.DialogContent>

            <materialDesign:DialogHost.Content>                              
                <Border BorderBrush="Black" BorderThickness="2" Padding="0" Margin="2 -0.2 2 2">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="50"/>                           
                            <RowDefinition />                           
                            <RowDefinition Height="30"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Grid.Row="0" Background="#b2ebf2">
                            <TextBlock Text="PR69 Calibration and Functional Jig" Padding="6" Margin="2 0 0 0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Row="0" Grid.Column="1" Margin="0 0 10 0" Background="#b2ebf2">
                            <Button Name="minimize" Click="minimize_Click" Margin="15 0 0 0" Height="15" Width="15"
                                 Style="{StaticResource MaterialDesignFloatingActionMiniAccentButton}" Foreground="White">

                                <Button.Content>
                                    <materialDesign:PackIcon Kind="MinusBox" Padding="0" Height="1" Width="6" Foreground="White" Background="White"/>
                                </Button.Content>
                            </Button>
                            <Button Name="maximize" Click="maximize_Click" Height="15" Width="15" Background="LightGreen" Margin="5 0 0 0"
                                 Style="{StaticResource MaterialDesignFloatingActionMiniAccentButton}">

                                <Button.Content>
                                    <materialDesign:PackIcon Kind="Minus" Padding="0" Height="6" Width="6" Foreground="White" Background="White"/>
                                </Button.Content>
                            </Button>
                            <Button Name="Close" Click="Close_Click" Height="15" Width="15" Background="IndianRed" Margin="5 0 0 0"
                                Style="{StaticResource MaterialDesignFloatingActionMiniAccentButton}" Foreground="White">
                                <Button.Content>
                                    <materialDesign:PackIcon Kind="Multiply" Height="12" Foreground="White" Width="12" Background="IndianRed"/>
                                </Button.Content>
                            </Button>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Orientation="Horizontal"
                                    Visibility="{Binding Path=IsProductSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}">
                                                        
                            <Grid Name="MenuGrid"  Background="Transparent" Margin="0 0 0 10">                                
                                <Menu materialDesign:ShadowAssist.Darken="True" >
                                    <MenuItem ToolTip="File Menu" Margin="0 0 0 0" Height="40">
                                        <MenuItem.Header>
                                            <materialDesign:PackIcon Kind="Menu" Height="25" Width="25"/>
                                        </MenuItem.Header>
                                        <MenuItem Header="PR69 Configuration" Command="{Binding OpenProdConfigWindow}">
                                            <MenuItem.Icon>
                                                <materialDesign:PackIcon Kind="FileEditOutline" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                        <MenuItem Header="Product Selection" Command="{Binding OpenDeviceSelectionWindow}">
                                            <MenuItem.Icon>
                                                <materialDesign:PackIcon Kind="FileEditOutline" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                        <MenuItem Header="Help" Command="{Binding Path=OpenHelpfileCmd}">
                                            <MenuItem.Icon>
                                                <materialDesign:PackIcon Kind="HelpCircleOutline" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                        <MenuItem Header="DUT Communication Settings" >
                                            <MenuItem.Icon>
                                                <materialDesign:PackIcon Kind="Usb" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                                            </MenuItem.Icon>                                           
                                            <MenuItem Header="Change Settings" Command="{Binding Path=ComSettingCmd}" CommandParameter="ChangeSettings" >
                                                <MenuItem.Icon>
                                                    <materialDesign:PackIcon Kind="Usb" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                        </MenuItem>
                                       
                                        <Separator/>
                                        <MenuItem Header="Exit" Command="{Binding Path=exitCmd}" >
                                            <MenuItem.Icon>
                                                <materialDesign:PackIcon Kind="ExitToApp" Foreground="Red"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                    </MenuItem>
                                </Menu>
                               
                            </Grid>
                            <StackPanel HorizontalAlignment="Right">
                                <Button Margin="10 10 0 10" Width="75" Height="30" Padding="5" 
                                            Command="{Binding btnStart}"
                                            IsEnabled="{Binding Enablebtnstart, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource MaterialDesignFlatDarkBgButton}"
                                            Background="{DynamicResource PrimaryHueMidBrush}">Start</Button>
                            </StackPanel>                            
                        </StackPanel>
                       
                        <StatusBar Grid.Row="3" FontSize="10" FontWeight="Bold" Visibility="{Binding Path=IsProductSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToVis}}">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="GIC India Pvt. Ltd. | "/>
                                <TextBlock Text="Product Type: "/>
                                <TextBlock Text="{Binding Path=SelectedDeviceType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <TextBlock Text=" | Product Name: "/>
                                <TextBlock Text="{Binding Path=SelectedDeviceName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <TextBlock Text=" | COM Port: "/>
                                <TextBlock Text="{Binding Path=SelectedComPort, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <TextBlock Text=" | Baudrate: "/>
                                <TextBlock Text="{Binding Path=SelectedBaudRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>


                            </StackPanel>
                        </StatusBar>

                    </Grid>                    
                </Border>
            </materialDesign:DialogHost.Content>
        </materialDesign:DialogHost>
    </Grid>
</Window>
